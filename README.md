# Cisco ACI Python
This repo uses ACI Cobra and ACI model to query ACI and to create objects. The wheels for these modules must be obtained from a production APIC (sandboxes don't have them).

## Getting data
__get-static-paths.py:__ This script creates a CSV of all static path bindings with the following fields:

* __epg:__ EPG name
* __VLAN:__ EPG VLAN encapsulation
* __mode:__ Mode (access/trunk)
* __node:__ Switch node ID
* __interface:__ Physical interface
* __port-channel:__ If physical interface is part of an aggreaget interface port selector, this field shows the port selector (AKA port channel) name.

The script accomplishes this by doing the following:

1. Creates a dict of all port channel port selectors
2. Creates a list of all static path bindings
    1. Adds static paths to physical interfaces as is
    2. Looks up physical interfaces for static paths to aggreagete interfaces and adds the corresponding results to the list of static path bindings.
3. Creates a CSV of all static path bindings. Below is sample CSV data generated by the script (displayed as a table):


| epg    | VLAN | mode   | node | interface | port-channel          |
| :--    | --:  | :--    | --:  | :--       | :--                   |
| DD_epg | 666  | access | 201  | eth1/5    | none                  |
| DD_epg | 666  | trunk  | 201  | eth1/3    | eth1_3-4_nas01_direct |
| DD_epg | 666  | trunk  | 201  | eth1/4    | eth1_3-4_nas01_direct |
| DD_epg | 666  | access | 202  | eth1/5    | none                  |
